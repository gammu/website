<div class="manpage">
<h2>GAMMU-SMSDRC</h2>
Section: Gammu Documentation (5)<br/>
Updated: October 20, 2009<br/>
<a href="#index">Index</a> 
<hr/>
<a class="aname" id="lbAB" name="lbAB"/>
<h3>NAME</h3>
<p>gammu-smsdrc - <a href="../gammu-smsd.1/">gammu-smsd</a>(1)
configuration file</p>
<p><a class="aname" id="lbAC" name="lbAC"/></p>
<h3>SYNOPSIS</h3>
<i>/etc/gammu-smsdrc</i> <a class="aname" id="lbAD" name="lbAD"/>
<h3>DESCRIPTION</h3>
<a href="../gammu-smsd.1/">gammu-smsd</a>(1) reads configuration
from a config file. It's location can be specified on command line,
otherwise default path /etc/gammu-smsdrc is used.
<p>This file use ini file syntax, with comment parts being marked
with both ; and #. Sections of config file are identified in square
brackets line [this]. All key values are case insensitive.</p>
<p>Configuration file of gammu-smsd consists of at least two
sections - [gammu] and [smsd].</p>
<p>The [gammu] section is configuration of a phone connection and
is same as described in <a href="../gammurc.5/">gammurc</a>(5)
with the only exception that logfile is ignored and common logging
for gammu library and SMS daemon is used. However the logformat
directive still configures how much messages gammu emits.</p>
<p>The [smsd] section configures SMS daemon itself, which are
described in following subsections. First general parameters of SMS
daemon are listed and then specific parameters for storage
backends.</p>
<p>Then there are optional sections [include_numbers] and
[exclude_numbers], which control message filtering (see
bellow).</p>
<p><a class="aname" id="lbAE" name="lbAE"/></p>
<h4>General parameters of SMS daemon</h4>
<dl compact="compact">
<dt><b>Service</b></dt>
<dd>
<p>SMSD service to use, one of FILES, MYSQL, PGSQL, DBI (depends on
compiled in support for backends).</p>
<p><b>FILES</b> - stores messages in files, see <a href="../gammu-smsd-files.7/">gammu-smsd-files</a>(7) for details<br/>
<b>MYSQL</b> - stores messages in MySQL database, see <a href="../gammu-smsd-mysql.7/">gammu-smsd-mysql</a>(7) for details<br/>
<b>PGSQL</b> - stores messages in PostgreSQL database, see <a href="../gammu-smsd-pgsql.7/">gammu-smsd-pgsql</a>(7) for details<br/>
<b>DBI</b> - stores messages in any database supported by libdbi,
this includes MSSQL, MySQL, PostgreSQL or SQLite databases, see
<a href="../gammu-smsd-dbi.7/">gammu-smsd-dbi</a>(7) for
details</p>
</dd>
<dt><b>PIN</b></dt>
<dd>
<p>PIN for SIM card. This is optional, but you should set it if
your phone after power on requires PIN.</p>
</dd>
<dt><b>NetworkCode</b></dt>
<dd>
<p>Network personalisation password. This is optional, but some
phones require it after power on.</p>
</dd>
<dt><b>PhoneCode</b></dt>
<dd>
<p>Phone lock password. This is optional, but some phones require
it after power on.</p>
</dd>
<dt><b>LogFile</b></dt>
<dd>
<p>File where SMSD actions are being logged. You can also use
special value &quot;syslog&quot; which will send all messages to syslog
daemon. On Windows another special value &quot;eventlog&quot; exists, which
will send logs to Windows Event Log.</p>
<p>Default is to provide no logging.</p>
</dd>
<dt><b>DebugLevel</b></dt>
<dd>
<p>Debug level for SMSD. The integer value should be sum of all
flags you want to enable.</p>
<p><b>1</b> - enables basic debugging information<br/>
<b>2</b> - enables logging of SQL queries of service backends<br/>
<b>4</b> - enables logging of gammu debug information</p>
<p>Generally to get as much debug information as possible, use
255.</p>
<p>Default is 0, what should mean no extra information.</p>
</dd>
<dt><b>CommTimeout</b></dt>
<dd>
<p>How many seconds should SMSD wait after each read/write
loop.</p>
<p>Default is 30.</p>
</dd>
<dt><b>SendTimeout</b></dt>
<dd>
<p>Shows how many seconds SMSD should wait for network answer
during sending sms. If nothing happen during this time, sms will be
resent.</p>
<p>Default is 30.</p>
</dd>
<dt><b>MaxRetries</b></dt>
<dd>
<p>How many times will SMSD try to resend message if sending
fails.</p>
<p>Default is 1.</p>
</dd>
<dt><b>ReceiveFrequency</b></dt>
<dd>
<p>The number of seconds between testing for received SMSes, when
the phone is busy sending SMSes. Normally a test for received SMSes
is done every CommTimeout seconds and after each sent SMS.</p>
<p>Default is 0 (not used).</p>
</dd>
<dt><b>CheckSecurity</b></dt>
<dd>
<p>Whether to check if phone wants to enter PIN.</p>
<p>Default is 1 (enabled).</p>
</dd>
<dt><b>CheckBattery</b></dt>
<dd>
<p>Whether to check phone battery state periodically.</p>
<p>Default is 1 (enabled).</p>
</dd>
<dt><b>CheckSignal</b></dt>
<dd>
<p>Whether to check signal level periodically.</p>
<p>Default is 1 (enabled).</p>
</dd>
<dt><b>ResetFrequency</b></dt>
<dd>
<p>The number of seconds between performing a preventive soft reset
in order to minimize the cases of hanging phones e.g. Nokia 5110
will sometimes freeze to a state when only after unmounting the
battery the phone will be functional again.</p>
<p>Default is 0 (not used).</p>
</dd>
<dt><b>DeliveryReport</b></dt>
<dd>
<p>Whether delivery reports should be used, one of 'no', 'log',
'sms'.</p>
<p><b>log</b> - one line log entry,<br/>
<b>sms</b> - store in inbox as a received SMS<br/>
<b>no</b> - no delivery reports</p>
<p>Default is 'no'.</p>
</dd>
<dt><b>DeliveryReportDelay</b></dt>
<dd>
<p>Delay in seconds how long is still delivery report considered
valid. This depends on brokeness of your network (delivery report
should have same timestamp as sent message). Increase this if
delivery reports are not paired with sent messages.</p>
<p>Default is 600 (10 minutes).</p>
</dd>
<dt><b>PhoneID</b></dt>
<dd>
<p>String with info about phone used for sending/receiving. This
can be useful if you want to run several SMS daemons.</p>
<p>When you set PhoneID, all messages (including injected ones)
will be marked by this string and it allow more SMS daemons to
share single database. This option has actually no effect of FILES
backend service.</p>
</dd>
<dt><b>RunOnReceive</b></dt>
<dd>
<p>Executes a program after receiving message. This parameter is
executed through shell, so you might need to escape some special
characters and you can include any number of parameters.
Additionally parameters with identifiers of received messages are
appended to the command line. The identifiers depend on used
service backend, typically it is ID of inserted row for database
backends or file name for file based backends.</p>
<p>Gammu SMSD waits for the script to terminate. If you make some
time consuming there, it will make SMSD not receive new messages.
However to limit breakage from this situation, the waiting time is
limited to two minutes. After this time SMSD will continue in
normal operation and might execute your script again.</p>
</dd>
<dt><b>IncludeNumbersFile</b></dt>
<dd>
<p>File with list of numbers which are accepted by SMSD. The file
contains one number per line, blank lines are ignored. The file is
read at startup and is reread only when configuration is being
reread. See Message filtering for details.</p>
</dd>
<dt><b>ExcludeNumbersFile</b></dt>
<dd>
<p>File with list of numbers which are not accepted by SMSD. The
file contains one number per line, blank lines are ignored. The
file is read at startup and is reread only when configuration is
being reread. See Message filtering for details.</p>
</dd>
</dl>
<a class="aname" id="lbAF" name="lbAF"/>
<h4>Database backends options</h4>
<p>All DBI, MYSQL and PGSQL backends (see <a href="../gammu-smsd-mysql.7/">gammu-smsd-mysql</a>(7), <a href="../gammu-smsd-pgsql.7/">gammu-smsd-pgsql</a>(7), <a href="../gammu-smsd-dbi.7/">gammu-smsd-dbi</a>(7)) for their
documentation) supports same options for configuring connection to
a database:</p>
<dl compact="compact">
<dt><b>User</b></dt>
<dd>
<p>User name used for connection to a database.</p>
</dd>
<dt><b>Password</b></dt>
<dd>
<p>Password used for connection to a database.</p>
</dd>
<dt><b>PC</b></dt>
<dd>
<p>Database server address. It can also contain port or socket path
after semicolon, for example localhost:/path/to/socket.</p>
</dd>
<dt><b>Database</b></dt>
<dd>
<p>Name of database to use. Please note that you should create
tables in this database before using gammu-smsd. SQL files for
creating needed tables are included in documentation.</p>
</dd>
<dt><b>SkipSMSCNumber</b></dt>
<dd>
<p>When you send sms from some SMS centere you can have delivery
reports from other SMSC number. You can set here number of this
SMSC used by you and Gammu will not check it's number during
assigning reports to sent SMS.</p>
</dd>
<dt><b>Driver</b></dt>
<dd>
<p>DBI driver to use. Depends on what DBI drivers you have
installed, DBI supports: mysql, freetds (provides access to MS SQL
Server and Sybase), pgsql, sqlite, sqlite3, firebird and ingres,
msql and oracle drivers are under development.</p>
</dd>
<dt><b>DriversPath</b></dt>
<dd>
<p>Path, where DBI drivers are stored, this usually does not have
to be set if you have properly installed drivers.</p>
</dd>
<dt><b>DBDir</b></dt>
<dd>
<p>Database directory for some (currently only sqlite) DBI drivers.
Set here path where sqlite database files are stored.</p>
</dd>
</dl>
<a class="aname" id="lbAG" name="lbAG"/>
<h4>Files backend options</h4>
<p>The FILES backend accepts following configuration options. See
<a href="../gammu-smsd-files.7/">gammu-smsd-files</a>(7) for more
detailed service backend description. Please note that all path
should contain trailing path separator (/ on Unix systems):</p>
<dl compact="compact">
<dt><b>InboxPath</b></dt>
<dd>
<p>Where the received SMSes are stored.</p>
<p>Default is current directory.</p>
</dd>
<dt><b>OutboxPath</b></dt>
<dd>
<p>Where SMSes to be sent should be placed.</p>
<p>Default is current directory.</p>
</dd>
<dt><b>SentSMSPath</b></dt>
<dd>
<p>Where the transmitted SMSes are placed, if same as OutBoxPath
transmitted messages are deleted.</p>
<p>Default is to delete transmitted messages.</p>
</dd>
<dt><b>ErrorSMSPath</b></dt>
<dd>
<p>Where SMSes with error in transmission is placed.</p>
<p>Default is same as SentSMSPath.</p>
</dd>
<dt><b>InboxFormat</b></dt>
<dd>
<p>The format in which the SMS will be stored: 'detail', 'unicode',
'standard'.</p>
<p><b>detail</b> - format used for message backup by <a href="../gammu.1/">gammu</a>(1)<br/>
<b>unicode</b> - message text stored in unicode (UTF-16)<br/>
<b>standard</b> - message text stored in system charset</p>
<p>The 'standard' and 'unicode' settings do not apply for 8-bit
messages, which are always written raw as they are received with
extension .bin.</p>
<p>Default is 'unicode'.</p>
</dd>
<dt><b>TransmitFormat</b></dt>
<dd>
<p>The format for transmitting the SMS: 'auto', 'unicode',
'7bit'.</p>
<p>Default is 'auto'.</p>
</dd>
</dl>
<a class="aname" id="lbAH" name="lbAH"/>
<h4>Message filtering</h4>
<p>SMSD allows to process only limited subset of incoming messages.
You can define filters in [include_numbers] and [exclude_numbers]
sections or using IncludeNumbersFile and ExcludeNumbersFile
directives.</p>
<p>If [include_numbers] section exists, all values (keys are
ignored) from it are used as allowed phone numbers and no other
message is processed. On the other side, in [exclude_numbers] you
can specify numbers which you want to skip.</p>
<p>Lists from both sources are merged together. If there is any
number in include list, only include list is used and only messages
in this list are being accepted. If include list is empty, exclude
list can be used to ignore messages from some numbers. If both
lists are empty, all messages are accepted.</p>
<p><a class="aname" id="lbAI" name="lbAI"/></p>
<h3>EXAMPLE</h3>
<p>There is more complete example available in Gammu documentation.
Please note that for simplicity following examples do not include
[gammu] section, you can look into <a href="../gammurc.5/">gammurc</a>(5) for some examples how it can look
like.</p>
<p>SMSD configuration file for FILES backend could look like:</p>
<dl compact="compact">
<dd>
<pre>
[smsd]
Service = files
PIN = 1234
LogFile = syslog
InboxPath = /var/spool/sms/inbox/
OutboPpath = /var/spool/sms/outbox/
SentSMSPath = /var/spool/sms/sent/
ErrorSMSPath = /var/spool/sms/error/
</pre></dd>
</dl>
<p>If you want to use MYSQL backend, you will need something like
this:</p>
<dl compact="compact">
<dd>
<pre>
[smsd]
Service = mysql
PIN = 1234
LogFile = syslog
User = smsd
Password = smsd
PC = localhost
Database = smsd
</pre></dd>
</dl>
<p>Process only messages from 123456 number:</p>
<dl compact="compact">
<dd>
<pre>
[include_numbers]
number1 = 123456
</pre></dd>
</dl>
<p>Do not process messages from evil number 666:</p>
<dl compact="compact">
<dd>
<pre>
[exclude_numbers]
number1 = 666
</pre></dd>
</dl>
<p><a class="aname" id="lbAJ" name="lbAJ"/></p>
<h3>SEE ALSO</h3>
<a href="../gammu-smsd.1/">gammu-smsd</a>(1), <a href="../gammu.1/">gammu</a>(1), <a href="../gammurc.5/">gammurc</a>(5)
<p><a href="../gammu-smsd-files.7/">gammu-smsd-files</a>(7),
<a href="../gammu-smsd-mysql.7/">gammu-smsd-mysql</a>(7), <a href="../gammu-smsd-pgsql.7/">gammu-smsd-pgsql</a>(7), <a href="../gammu-smsd-dbi.7/">gammu-smsd-dbi</a>(7), <a href="../gammu-smsd-tables.7/">gammu-smsd-tables</a>(7) <a class="aname" id="lbAK" name="lbAK"/></p>
<h3>AUTHOR</h3>
gammu-smsd and this manual page were written by Michal Cihar
&lt;<a href="mailto:michal@cihar.com">michal@cihar.com</a>&gt;.
<a class="aname" id="lbAL" name="lbAL"/>
<h3>COPYRIGHT</h3>
Copyright Â© 2009 Michal Cihar and other authors. License GPLv2: GNU
GPL version 2 &lt;<a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a>&gt;<br/>

This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law. <a class="aname" id="lbAM" name="lbAM"/>
<h3>REPORTING BUGS</h3>
Please report bugs to &lt;<a href="http://bugs.cihar.com">http://bugs.cihar.com</a>&gt;.
<p>Before reporting a bug, please enable verbose logging in SMSD
configuration:</p>
<dl compact="compact">
<dd>
<pre>
[smsd]
debuglevel = 255
logfile = smsd.log
</pre></dd>
</dl>
<p>and include this verbose log within bug report.</p>
<hr/>
<a class="aname" id="index" name="index"/>
<h3>Index</h3>
<dl>
<dt><a href="#lbAB">NAME</a></dt>
<dt><a href="#lbAC">SYNOPSIS</a></dt>
<dt><a href="#lbAD">DESCRIPTION</a></dt>
<dd>
<dl>
<dt><a href="#lbAE">General parameters of SMS daemon</a></dt>
<dt><a href="#lbAF">Database backends options</a></dt>
<dt><a href="#lbAG">Files backend options</a></dt>
<dt><a href="#lbAH">Message filtering</a></dt>
</dl>
</dd>
<dt><a href="#lbAI">EXAMPLE</a></dt>
<dt><a href="#lbAJ">SEE ALSO</a></dt>
<dt><a href="#lbAK">AUTHOR</a></dt>
<dt><a href="#lbAL">COPYRIGHT</a></dt>
<dt><a href="#lbAM">REPORTING BUGS</a></dt>
</dl>
<hr/>
This document was created by man2html, using the manual
pages.<br/>
Time: 13:38:47 GMT, October 20, 2009
</div>
